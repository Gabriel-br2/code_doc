# 📄 Code Documentation Generator

---

## 📖 Project Description

The **code_doc** project is a tool for automatically generating professional-grade README documentation for embedded software and hardware projects. It works by analyzing a Git repository's structure and content, then leveraging an AI agent to produce a structured and systematized README file based on a predefined set of technical documentation standards.

---

## ⚙️ System Behavior

The system performs the following workflow:

1. **Repository Analysis**  
   The repository is scanned, and its directory structure and file details are converted into a structured JSON format.

2. **Code Summarization** (via LLM AI)  
   Each relevant code file is summarized using an AI model, extracting main purposes, structure, and function overviews.

3. **README Generation** (via LLM AI)  
   A final README.md is generated by sending the structured JSON (including code summaries) to an AI agent, with a prompt that defines the required sections and professional formatting.

4. **Output**  
   The generated README.md file is saved in the project directory.

## 📂 Code Structure

```
code_doc/
├── agent.py              # Handles AI model API communication
├── generate_summary.py   # Summarizes code files using AI
├── main.py               # Main orchestration of README generation
├── requirements.txt      # Python dependencies
└── generate_JSON.py      # Utility to build repo structure (currently rate-limited)
```

- `agent.py` provides a class to manage OpenAI-style API requests.
- `generate_summary.py` creates structured summaries of Python files.
- `main.py` is the core module managing the workflow of analysis and documentation.
- `requirements.txt` specifies dependencies like OpenAI and dotenv.
- `generate_JSON.py` is intended to produce a structured JSON of the repository (currently inaccessible due to rate limits).

---

## 🛠️ Configuration Structure

The project uses environment variables for configuration. Before running the generator, ensure the following variables are set:

- `OPENAI_API_KEY` – Your API key for the AI model.
- `MODEL` – Your LLM model for openRouter here.
- `BASE_URL` – Custom base URL for API request

Create a `.env` file in the project root with:

```env
API_KEY=your-api-key
MODEL=your-model-here
BASE_URL="https://openrouter.ai/api/v1"
```

---

## 📝 Notes

- This tool works only with Git-tracked embedded software projects.
- The LLM model requires proper context to ensure accurate documentation.
- Some components (like `generate_JSON.py`) may not be accessible due to provider rate limits. A local workaround may be implemented.

---

## ❌ Common Errors

| Error | Cause | Solution |
|-------|-------|----------|
| `429 Rate Limited` | API quota exceeded or upstream rate-limiting | Retry after some time or use your own API key |
| `KeyError: API_KEY` | Missing environment variable | Set `API_KEY` in `.env` |
| `FileNotFoundError` | Missing required files in the repo | Ensure consistent file presence before running |

---

## 🔖 Version

- **Current Version:** 1.0.0 (Initial Release)

---

## 👥 Team

- **Gabriel Souza** – Creator & Lead Developer    
---

> "Documentation is the silent enabler of collaboration and clarity in complex systems."